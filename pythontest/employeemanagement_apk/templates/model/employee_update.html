{% extends "base.html" %}

{% block title %}
    <title>Update Employee</title>
{% endblock %}

{% block content %}
    <h2 class="text-center">Update Employee</h2>
    <form method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group mb-2">
            <label for="name">Name</label>
            <input type="text" name="name" class="form-control" value="{{ form.name.value }}" required>
        </div>
        
        <div class="form-group mb-2">
            <label for="address">Address</label>
            <textarea name="address" class="form-control" required>{{ form.address.value }}</textarea>
        </div>
    
        <div class="form-group mb-2">
            <label for="manager">Manager</label>
            <input type="checkbox" name="manager" {% if form.manager.value %}checked{% endif %}>
        </div>
    
        <div class="form-group mb-2">
            <label for="status">Status</label>
            <select name="status" class="form-control" required>
                <!-- Options for status -->
                {% for status in statuses %}
                    <option value="{{ status.id }}" {% if status.id == form.status.value %}selected{% endif %}>
                        {{ status.em_status }}
                    </option>
                {% endfor %}
            </select>
        </div>
    
        <div class="form-group mb-2">
            <label for="position">Position (Optional)</label>
            <select name="position" class="form-control">
                <option value="">Select Position (Optional)</option>
                {% for position in positions %}
                    <option value="{{ position.id }}" {% if position.id == form.position.value %}selected{% endif %}>
                        {{ position.name }}
                    </option>
                {% endfor %}
            </select>
            <small class="form-text text-muted">This field is optional.</small>
        </div>
    
        <div class="form-group mb-2">
            <label for="department">Department (Optional)</label>
            <select name="department" class="form-control">
                <option value="">Select Department (Optional)</option>
                {% for department in departments %}
                    <option value="{{ department.id }}" {% if department.id == form.department.value %}selected{% endif %}>
                        {{ department.name }}
                    </option>
                {% endfor %}
            </select>
            <small class="form-text text-muted">This field is optional.</small>
        </div>
    
        <div class="form-group mb-2">
            <label for="image">Image</label>
            <input type="file" name="image" class="form-control">
            {% if form.instance.image %}
                <img src="{{ form.instance.image.url }}" width="100" height="100" alt="Current Image">
            {% endif %}
        </div>
    
        <input type="save" value="Update Employee" class="btn btn-success">
    </form>
    
{% endblock %}